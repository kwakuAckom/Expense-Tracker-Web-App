{% extends 'base.html' %}

{% block content %}
<h1>Add Expense to {{ project.name }}</h1>
<form method="post" id="expense-form">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Save">
</form>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('#expense-form');
        const amountInput = form.querySelector('#id_amount');
        amountInput.addEventListener('input', (event) => {
            const amount = parseFloat(event.target.value);
            if (isNaN(amount)) {
                return;
            }
            event.target.value = amount.toFixed(2);
        });
    });
</script>
{% endblock %}